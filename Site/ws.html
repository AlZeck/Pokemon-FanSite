<!DOCTYPE html>
<html>
<!-- THIS IS A WEB SOCKET BATTLE TESTER DO NOT INCLUDE IN THE FINAL RELEASE -->
<head>
    <title>websockets tester</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width-device-width, initial scale=1">
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="lib/js/websockets/BCPController.js" type="text/javascript" lang="javascript"></script>
    <script>
        var x, y;
        var J1 = {
            "utente": "Red", "squadra": [
                { "id": 292, "mosse": [10, 86, 92, 230] },
                { "id": 649, "mosse": [328, 312, 68, 126] },
                { "id": 122, "mosse": [184, 66, 3, 46] },
                { "id": 250, "mosse": [163, 14, 220, 170] },
                { "id": 1, "mosse": [28, 19, 31, 56] },
                { "id": 55, "mosse": [253, 10, 41, 66] }]
        };

        var J2 = {
            "utente": "Blue", "squadra": [
                { "id": 292, "mosse": [10, 86, 92, 230] },
                { "id": 649, "mosse": [328, 312, 68, 126] },
                { "id": 122, "mosse": [184, 66, 3, 46] },
                { "id": 250, "mosse": [163, 14, 220, 170] },
                { "id": 292, "mosse": [10, 86, 92, 230] },
                { "id": 55, "mosse": [253, 10, 41, 66] }]
        };
        var A1 = { "utente": "Red", "azione": "mossa", "valore": 10 };
        var A2 = { "utente": "Blue", "azione": "mossa", "valore": 10 };

        var B1 = { "utente": "Red", "azione": "switch", "valore": 649 };
        var B2 = { "utente": "Blue", "azione": "attesa", "valore": 649 };

        var C1 = { "utente": "Red", "azione": "forfeit", "valore": 0 };
        var C2 = { "utente": "Blue", "azione": "forfeit", "valore": 0 };

        var D1 = { "utente": "Red", "azione": "attesa", "valore": 0 };
        var D2 = { "utente": "Blue", "azione": "attesa", "valore": 0 };

        var E1 = { "utente": "Red", "azione": "mossa", "valore": 10 };
        var E2 = { "utente": "CPU", "azione": "mossa", "valore": 10 };

        function callback(msg) {
            var elem = document.getElementById("arrival");
            elem.innerHTML = msg + "\n" + elem.innerHTML;
        }

        function test1() {
            x = new BCPController(J1.utente, J1.squadra, callback);
            y = new BCPController(J2.utente, J2.squadra, function (e) { });
        }
        function test2() {
            x.sendRequest(J2.utente);
            y.sendRefuse(J1.utente);
        }
        function test3() {
            x.sendRequest(J2.utente);
            y.sendAccept(J1.utente);
        }
        //atessa/switch
        function test4() {
            x.sendBattleMessage(B1);
            y.sendBattleMessage(B2);
        }
        //action/action
        function test5() {
            x.sendBattleMessage(A1);
            y.sendBattleMessage(A2);
        }
        //forfeit/action
        function test6() {
            x.sendBattleMessage(A1);
            y.sendBattleMessage(C2);
        }

        function test7() {
            x.startCPU(J2.squadra);
        }

        function test8() {
            x.sendBattleMessage(E1);
            x.sendBattleCPUMessage(E2);
        }

        function test9() {
            x.sendBattleMessage(C1);
            x.sendBattleCPUMessage(E2);
        }

    </script>
</head>

<body class="text-center">
    <!--
    Use example 
-->
    <br>
    <!-- Test Cases -->
    <div class="container">
        <div class="card w-50">
            <div class="card-body">
                <div class="btn-group-vertical">
                    <button type="button" class="btn btn-primary" onclick="test1()">Connect
                        players</button>
                    <button type="button" class="btn btn-outline-primary" onclick="test2()">request/refuse</button>
                    <button type="button" class="btn btn-primary" onclick="test3()">request/accept</button>
                </div>
                <div class="btn-group-vertical">
                    <button type="button" class="btn btn-primary" onclick="test4()">action/switch</button>
                    <button type="button" class="btn btn-outline-primary" onclick="test5()">action/action</button>
                    <button type="button" class="btn btn-primary" onclick="test6()">forfeit/action</button>
                </div>
                <br>
                <br>
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-primary" onclick="test7()">CPU</button> 
                    <button type="button" class="btn btn-primary" onclick="test8()">CPU-Battle</button> 
                    <button type="button" class="btn btn-primary" onclick="test9()">CPU-Forfeit</button> 
                </div>
                <br>
                <br>
                <textarea class="form-control" id="arrival"> hello  </textarea>
            </div>
        </div>
    </div>


</body>

</html>